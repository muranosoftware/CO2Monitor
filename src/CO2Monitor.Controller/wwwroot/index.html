<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>CO2 Monitor</title>

    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <link href="vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

    <link href="css/sb-admin.css" rel="stylesheet">

    <script src="js/axios.min.js"></script>
</head>

<body id="page-top">

    <nav class="navbar navbar-expand navbar-dark bg-dark static-top">

        <a class="navbar-brand mr-1" href="index.html">CO2 Monitor</a>

        <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Navbar -->
        <ul class="navbar-nav ml-auto ml-md-0"></ul>
    </nav>

    <div id="wrapper">

        <div id="content-wrapper">
            <div class="container-fluid">
                <!-- Breadcrumbs-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="#">Dashboard</a>
                    </li>
                    <li class="breadcrumb-item active">Overview</li>
                </ol>
                <div class="card mb-3">
                    <div class="card-header">
                        <i class="fas fa-table"></i>
                        Remote Sensors
                        <span>
                            <a class="btn btn-info" href="#" data-toggle="modal" data-target="#newRemoteModal">New</a>
                        </span>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="remoteTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th style="width: 15.0%">Name</th>
                                        <th style="width: 5.0%">Id</th>
                                        <th style="width: 5.00%"><div align="center"> Status </div></th>
                                        <th style="width: 50.00%">State</th>
                                        <th style="width: 20.00%">Address</th>
                                        <th style="width: 5.00%"></th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header">
                        <i class="fas fa-chart-area"></i>
                        Timers
                        <span>
                            <a class="btn btn-info" href="#" data-toggle="modal" data-target="#newTimerModal">New</a>
                        </span>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="timerTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th style="width: 40.00%">Name</th>
                                        <th style="width: 10.00%">Id</th>
                                        <th style="width: 40.00%">Time</th>
                                        <th style="width: 5.00%"></th>
                                        <th style="width: 5.00%"></th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header">
                        <i class="fas fa-table"></i>
                        Rules
                        <span>
                            <a onclick="newRuleModalButtonClicked(event)" class="btn btn-info" href="#" data-toggle="modal">New</a>
                        </span>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="ruleTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th style="width: 20.00%">Name</th>
                                        <th style="width: 5.00%">Id</th>
                                        <th style="width: 65.00%">Descr</th>
                                        <th style="width: 5.00%"></th>
                                        <th style="width: 5.00%"></th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header">
                        <i class="fas fa-table"></i>
                        System Log
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="logTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th>Time</th>
                                        <th>Level</th>
                                        <th>Message</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.container-fluid -->
            <!-- Sticky Footer -->
            <footer class="sticky-footer">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>© 2019 Murano Software</span>
                    </div>
                </div>
            </footer>

        </div>
        <!-- /.content-wrapper -->

    </div>
    <!-- /#wrapper -->
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>


    <!--New Remote Modal-->
    <div class="modal fade" id="newRemoteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">New Remote Sensor</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="container">
                    <div class="card-body">
                        <form id="newRemoteForm">
                            <div class="form-group">
                                <div class="form-label-group">
                                    <input type="text" name="name" id="inputRemoteName" class="form-control" placeholder="Name" required="required" autofocus="autofocus">
                                    <label for="inputRemoteName">Name</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-label-group">
                                    <input type="text" name="address" id="inputRemoteAddress" class="form-control" placeholder="Address" required="required">
                                    <label for="inputRemoteAddress">Address</label>
                                </div>
                            </div>
                            <div class="modal-header">
                                <h5 class="modal-title">Fields</h5>
                                <span>
                                    <a id="addFieldNewRemoteButton" class="btn btn-info">Add</a>
                                </span>
                            </div>
                            <div>
                                <table class="table table-bordered" id="newRemoteFieldTable" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th style="width: 35.00%">Name </th>
                                            <th style="width: 15.00%">Type</th>
                                            <th style="width: 38.00%">Enum Values</th>
                                            <th style="width: 12.00%"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="newRemoteFieldTableBody"></tbody>
                                </table>
                            </div>
                            <div class="modal-header">
                                <h5 class="modal-title">Actions</h5>
                                <span>
                                    <a id="addActionNewRemoteButton" class="btn btn-info">Add</a>
                                </span>
                            </div>
                            <div>
                                <table class="table table-bordered" id="newRemoteActionTable" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th style="width: 35.00%">Path</th>
                                            <th style="width: 15.00%">Argument Type</th>
                                            <th style="width: 38.00%">Argument Enum Values</th>
                                            <th style="width: 12.00%"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="newRemoteActionTableBody"></tbody>
                                </table>
                            </div>
                            <div class="modal-header">
                                <h5 class="modal-title">Extensions</h5>
                                <span>
                                    <a id="addExtensionNewRemoteButton" class="btn btn-info">Add</a>
                                </span>
                            </div>
                            <div>
                                <table class="table table-bordered" id="newRemoteExtensionTable" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th style="width: 44.00%">Extension</th>
                                            <th style="width: 44.00%">Parameter</th>
                                            <th style="width: 12.00%"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="newRemoteExtensionTableBody"></tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a id="createNewRemoteButton" class="btn btn-info">Create</a>
                </div>
            </div>
        </div>
    </div>


    <!--New Timer Modal-->
    <div class="modal fade" id="newTimerModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">New Timer</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="container">
                    <div class="card-body">
                        <form id="newTimerForm">
                            <div class="form-group">
                                <div class="form-label-group">
                                    <input type="text" name="name" id="inputTimerName" class="form-control" placeholder="Name" required="required" autofocus="autofocus">
                                    <label for="inputTimerName">Name</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-label-group">
                                    <input type="text" name="time" id="inputTimerTime" class="form-control" placeholder="Time" required="required">
                                    <label for="inputTimerTime">Alarm time (hh:mm:ss)</label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a id="createNewTimerButton" class="btn btn-info">Create</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editTimerModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Timer</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="container">
                    <div class="card-body">
                        <form id="editTimerForm">
                            <div class="form-group">
                                <div class="form-label-group">
                                    <input type="text" name="name" id="inputTimerEditedName" class="form-control" placeholder="Name" required="required" autofocus="autofocus">
                                    <label for="inputTimerEditedName">Name</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-label-group">
                                    <input type="text" name="time" id="inputTimerEditedTime" class="form-control" placeholder="Time" required="required">
                                    <label for="inputTimerEditedTime">Alarm time (hh:mm:ss)</label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a id="saveTimerChanchedButton" class="btn btn-info">Save</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="newRuleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">New/Edit Rule</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="container">
                    <div class="card-body">
                        <form id="newRuleForm">
                            <div class="form-group">
                                <label for="inputRuleName">Rule Name</label>
                                <input name="Name" id="inputRuleName" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="selectSourceDeviceId">Event Source Device</label>
                                <select name="SourceDeviceId" id="selectSourceDeviceId" class="form-control"></select>
                            </div>
                            <div class="form-group">
                                <label for="selectEvent">Event</label>
                                <select name="Event" id="selectEvent" class="form-control"></select>
                            </div>
                            <div class="form-group">
                                <label for="selectTargetDeviceId">Target Device</label>
                                <select name="targetDeviceId" id="selectTargetDeviceId" class="form-control"></select>
                            </div>
                            <div class="form-group">
                                <label for="selectAction">Action</label>
                                <select name="Action" id="selectAction" class="form-control"></select>
                            </div>
                            <div class="form-group">
                                <label for="selectArgumentSoource">Action Argument Source</label>
                                <select name="argumentSource" id="selectArgumentSource" onchange="selectArgumentSourceOnChange(event)" class="form-control">
                                    <option value="EventData">EventData</option>
                                    <option value="Constant">Constant</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="selectAction">Constant</label>
                                <input name="Value" id="inputValue" class="form-control" input disabled />
                            </div>
                            <div class="modal-header">
                                <h5 class="modal-title">Conditions</h5>
                                <span>
                                    <a id="addRuleConditionButton" class="btn btn-info">Add</a>
                                </span>
                            </div>

                            <div>
                                <table class="table table-bordered" id="newRuleConditionTable" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th style="width: 25.00%">Device</th>
                                            <th style="width: 25.00%">Field</th>
                                            <th style="width: 15.00%"></th>
                                            <th style="width: 25.00%">Value</th>
                                            <th style="width: 10.00%"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="newRuleConditionTableBody"></tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a id="createNewRuleButton" class="btn btn-info">Create</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Page level plugin JavaScript-->
    <script src="vendor/chart.js/Chart.min.js"></script>
    <script src="vendor/datatables/jquery.dataTables.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin.min.js"></script>

    <script src="js/signalr/signalr.min.js"></script>

    <script src="js/co2monitor-api.js"></script>
    <script src="js/helpers.js"></script>
    <script src="js/index.js"></script>
</body>
</html>
